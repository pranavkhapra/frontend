{"ast":null,"code":"var _jsxFileName = \"/home/just_a_random_person_to_ignore/React-JS-Student-Management-System-Frontend/src/components/teacher/EditTeacherForm.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { editTeacher } from \"../../actions/teacherActions\";\nimport { getAllClasses } from \"../../actions/classActions\";\nimport MessageAlert from \"../partial/MessageAlert\";\nimport axios from \"axios\";\nimport { getTeacherByIDURL } from \"../../config/routes\";\nimport { userGetter } from \"../../utils/userGetter\";\nimport { dateParser } from \"../../utils/dateParser\";\n\nclass EditTeacherForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: \"\",\n      phone_number: \"\",\n      dob: \"\",\n      address: \"\",\n      assigned_classroom: \"\",\n      teacher_item: {},\n      user: {}\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.onEditTeacher = e => {\n      const {\n        name,\n        phone_number,\n        dob,\n        address,\n        assigned_classroom,\n        teacher_item\n      } = this.state;\n      teacher_item.name = name;\n      teacher_item.phone_number = phone_number;\n      teacher_item.dob = dob;\n      teacher_item.address = address;\n      teacher_item.assigned_classroom = assigned_classroom;\n      this.props.editTeacher(teacher_item);\n      this.setState({\n        name: \"\",\n        phone_number: \"\",\n        dob: \"\",\n        address: \"\",\n        assigned_classroom: \"\",\n        student_item: {}\n      }, () => {\n        this.props.history.push(\"/teachers\");\n      });\n    };\n  }\n\n  async componentDidMount() {\n    let user_id = localStorage.getItem(\"user_id\");\n    let user = await userGetter(user_id);\n    this.setState({\n      user\n    });\n\n    if (user == null) {\n      this.props.history.push(\"/\");\n    }\n\n    if (user.role == \"student\") {\n      this.props.history.push(`/students/details/${user_id}`);\n    }\n    /*\n    if (user.role == \"teacher\") {\n        this.props.history.push(`/teachers/details/${user_id}`);\n    }\n    */\n\n\n    this.props.getAllClasses();\n    const res = await axios.get(getTeacherByIDURL(this.props.match.params.teacher_id));\n    const {\n      name,\n      phone_number,\n      dob,\n      address,\n      assigned_classroom\n    } = res.data.data;\n    this.setState({\n      teacher_item: res.data.data,\n      name,\n      phone_number,\n      dob,\n      address,\n      assigned_classroom\n    });\n  }\n\n  render() {\n    const {\n      class_name,\n      name,\n      dob,\n      phone_number,\n      address,\n      user\n    } = this.state;\n    const classItems = this.props.classes.map((classItem, index) => {\n      if (classItem.class_name === class_name) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: classItem._id,\n          defaultValue: true,\n          selected: true,\n          value: classItem.class_name,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 24\n          }\n        }, classItem.class_name);\n      }\n\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: classItem._id,\n        value: classItem.class_name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 20\n        }\n      }, classItem.class_name);\n    });\n    const assignedClassroomInput = user.role === \"admin\" ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, \"Assigned Classroom:\"), /*#__PURE__*/React.createElement(\"select\", {\n      required: true,\n      className: \"custom-select\",\n      id: \"assigned_classroom\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, classItems)) : \"\";\n    console.log(dateParser(dob));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, \"Edit Teacher Form\"), /*#__PURE__*/React.createElement(MessageAlert, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onEditTeacher,\n      method: \"POST\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }, \"Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      className: \"form-control\",\n      placeholder: \"Name\",\n      type: \"text\",\n      id: \"name\",\n      name: \"name\",\n      onChange: this.onChange,\n      value: name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    }, \"Phone Number:\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      className: \"form-control\",\n      placeholder: \"Phone Number\",\n      type: \"text\",\n      id: \"phone_number\",\n      name: \"phone_number\",\n      onChange: this.onChange,\n      value: phone_number,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }, \"Date of Birth:\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      className: \"form-control\",\n      type: \"date\",\n      id: \"dob\",\n      name: \"dob\",\n      onChange: this.onChange,\n      value: dateParser(dob),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }, \"Address:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control\",\n      placeholder: \"Address\",\n      id: \"address\",\n      name: \"address\",\n      value: address,\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 25\n      }\n    })), assignedClassroomInput, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }\n    }, \"Update Teacher\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    classes: state.classReducer.classes\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    editTeacher: updatedTeacher => {\n      dispatch(editTeacher(updatedTeacher));\n    },\n    getAllClasses: () => {\n      dispatch(getAllClasses());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditTeacherForm);","map":{"version":3,"sources":["/home/just_a_random_person_to_ignore/React-JS-Student-Management-System-Frontend/src/components/teacher/EditTeacherForm.js"],"names":["React","Component","connect","editTeacher","getAllClasses","MessageAlert","axios","getTeacherByIDURL","userGetter","dateParser","EditTeacherForm","state","name","phone_number","dob","address","assigned_classroom","teacher_item","user","onChange","e","setState","target","id","value","onEditTeacher","props","student_item","history","push","componentDidMount","user_id","localStorage","getItem","role","res","get","match","params","teacher_id","data","render","class_name","classItems","classes","map","classItem","index","_id","assignedClassroomInput","console","log","mapStateToProps","classReducer","mapDispatchToProps","dispatch","updatedTeacher"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from \"react-redux\";\nimport {editTeacher} from \"../../actions/teacherActions\";\nimport {getAllClasses} from \"../../actions/classActions\";\nimport MessageAlert from \"../partial/MessageAlert\";\nimport axios from \"axios\";\nimport {getTeacherByIDURL} from \"../../config/routes\";\nimport {userGetter} from \"../../utils/userGetter\";\nimport {dateParser} from \"../../utils/dateParser\";\n\nclass EditTeacherForm extends Component {\n\n    state = {\n        name: \"\",\n        phone_number: \"\",\n        dob: \"\",\n        address: \"\",\n        assigned_classroom: \"\",\n        teacher_item: {},\n        user: {}\n    }\n\n    async componentDidMount() {\n        let user_id = localStorage.getItem(\"user_id\");\n        let user = await userGetter(user_id)\n\n        this.setState({\n            user\n        })\n\n        if (user == null){\n            this.props.history.push(\"/\");\n        }\n\n        if (user.role == \"student\") {\n            this.props.history.push(`/students/details/${user_id}`);\n        }\n\n        /*\n        if (user.role == \"teacher\") {\n            this.props.history.push(`/teachers/details/${user_id}`);\n        }\n        */\n            \n        this.props.getAllClasses()\n\n        const res = await axios.get(getTeacherByIDURL(this.props.match.params.teacher_id))\n        const {\n            name,\n            phone_number,\n            dob,\n            address,\n            assigned_classroom,\n        } = res.data.data;\n        this.setState({\n            teacher_item: res.data.data,\n            name,\n            phone_number,\n            dob,\n            address,\n            assigned_classroom,\n        })\n    }\n\n    onChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    }\n\n    onEditTeacher = (e) => {\n        const {\n            name,\n            phone_number,\n            dob,\n            address,\n            assigned_classroom,\n            teacher_item\n        } = this.state;\n\n        teacher_item.name = name;\n        teacher_item.phone_number = phone_number;\n        teacher_item.dob = dob;\n        teacher_item.address = address;\n        teacher_item.assigned_classroom = assigned_classroom;\n\n        this.props.editTeacher(teacher_item)\n\n        this.setState({\n            name: \"\",\n            phone_number: \"\",\n            dob: \"\",\n            address: \"\",\n            assigned_classroom: \"\",\n            student_item: {}\n        }, () => {\n            this.props.history.push(\"/teachers\");\n        })\n    }\n\n    render() {\n\n        const {class_name, name, dob, phone_number, address, user} = this.state;\n\n        const classItems = this.props.classes.map((classItem, index) => {\n            if (classItem.class_name === class_name){\n                return <option key={classItem._id} defaultValue selected value={classItem.class_name}>\n                    {classItem.class_name}\n                </option>\n            }\n            return <option key={classItem._id} value={classItem.class_name}>\n                {classItem.class_name}\n            </option>\n        })\n\n        const assignedClassroomInput = user.role === \"admin\" ? (\n            <div className=\"form-group\">\n                <label>Assigned Classroom:</label>\n                <select required className=\"custom-select\" id=\"assigned_classroom\" onChange={this.onChange}>\n                    {classItems}\n                </select>\n            </div>\n        ) : (\"\");\n\n        console.log(dateParser(dob));\n\n        return (\n            <div className=\"container\">\n                <h1>Edit Teacher Form</h1>\n                <MessageAlert/>\n\n                <form onSubmit={this.onEditTeacher} method=\"POST\">\n\n                    <div className=\"form-group\">\n                        <label>Name:</label>\n                        <input required className=\"form-control\" placeholder=\"Name\" type=\"text\" id=\"name\" name=\"name\" onChange={this.onChange} value={name}/>\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Phone Number:</label>\n                        <input required className=\"form-control\" placeholder=\"Phone Number\" type=\"text\" id=\"phone_number\" name=\"phone_number\" onChange={this.onChange} value={phone_number}/>\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Date of Birth:</label>\n                        <input required className=\"form-control\" type=\"date\" id=\"dob\" name=\"dob\" onChange={this.onChange} value={dateParser(dob)}/>\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Address:</label>\n                        <textarea className=\"form-control\" placeholder=\"Address\" id=\"address\" name=\"address\" value={address} onChange={this.onChange} required></textarea>\n                    </div>\n\n                    {assignedClassroomInput}\n\n                    <div className=\"form-group\">\n                        <button type=\"submit\" className=\"btn btn-primary btn-block\">Update Teacher</button>\n                    </div>\n\n                </form>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        classes: state.classReducer.classes\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        editTeacher: (updatedTeacher) => {dispatch(editTeacher(updatedTeacher))},\n        getAllClasses: () => {dispatch(getAllClasses())}\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditTeacherForm);\n"]},"metadata":{},"sourceType":"module"}